<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A multi-producer, single-consumer (MPSC) queue, implemented using a lock-free intrusive singly-linked list."><title>MpscQueue in cordyceps - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-d10b2a06af903387.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="cordyceps" data-themes="" data-resource-suffix="" data-rustdoc-version="1.82.0-nightly (8b3870784 2024-08-07)" data-channel="nightly" data-search-js="search-ef54e092fea9c776.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../static.files/storage-118b08c4c78b968e.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-04a29ac50d05d0b1.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../cordyceps/index.html">cordyceps</a><span class="version">0.3.2</span></h2></div><h2 class="location"><a href="#">Mpsc<wbr>Queue</a></h2><div class="sidebar-elems"><section><h3><a href="#implementations">Methods</a></h3><ul class="block method"><li><a href="#method.consume">consume</a></li><li><a href="#method.dequeue">dequeue</a></li><li><a href="#method.dequeue_unchecked">dequeue_unchecked</a></li><li><a href="#method.enqueue">enqueue</a></li><li><a href="#method.new">new</a></li><li><a href="#method.new_with_static_stub">new_with_static_stub</a></li><li><a href="#method.new_with_stub">new_with_stub</a></li><li><a href="#method.try_consume">try_consume</a></li><li><a href="#method.try_dequeue">try_dequeue</a></li><li><a href="#method.try_dequeue_unchecked">try_dequeue_unchecked</a></li></ul><h3><a href="#trait-implementations">Trait Implementations</a></h3><ul class="block trait-implementation"><li><a href="#impl-Debug-for-MpscQueue%3CT%3E">Debug</a></li><li><a href="#impl-Default-for-MpscQueue%3CT%3E">Default</a></li><li><a href="#impl-Drop-for-MpscQueue%3CT%3E">Drop</a></li><li><a href="#impl-Send-for-MpscQueue%3CT%3E">Send</a></li><li><a href="#impl-Sync-for-MpscQueue%3CT%3E">Sync</a></li></ul><h3><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><ul class="block synthetic-implementation"><li><a href="#impl-Freeze-for-MpscQueue%3CT%3E">!Freeze</a></li><li><a href="#impl-RefUnwindSafe-for-MpscQueue%3CT%3E">!RefUnwindSafe</a></li><li><a href="#impl-Unpin-for-MpscQueue%3CT%3E">Unpin</a></li><li><a href="#impl-UnwindSafe-for-MpscQueue%3CT%3E">UnwindSafe</a></li></ul><h3><a href="#blanket-implementations">Blanket Implementations</a></h3><ul class="block blanket-implementation"><li><a href="#impl-Any-for-T">Any</a></li><li><a href="#impl-Borrow%3CT%3E-for-T">Borrow&#60;T&#62;</a></li><li><a href="#impl-BorrowMut%3CT%3E-for-T">BorrowMut&#60;T&#62;</a></li><li><a href="#impl-From%3CT%3E-for-T">From&#60;T&#62;</a></li><li><a href="#impl-Into%3CU%3E-for-T">Into&#60;U&#62;</a></li><li><a href="#impl-TryFrom%3CU%3E-for-T">TryFrom&#60;U&#62;</a></li><li><a href="#impl-TryInto%3CU%3E-for-T">TryInto&#60;U&#62;</a></li></ul></section><h2><a href="index.html">In crate cordyceps</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Struct <a href="index.html">cordyceps</a>::<wbr><a class="struct" href="#">MpscQueue</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../src/cordyceps/mpsc_queue.rs.html#344-360">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub struct MpscQueue&lt;T: <a class="trait" href="trait.Linked.html" title="trait cordyceps::Linked">Linked</a>&lt;<a class="struct" href="mpsc_queue/struct.Links.html" title="struct cordyceps::mpsc_queue::Links">Links</a>&lt;T&gt;&gt;&gt; { <span class="comment">/* private fields */</span> }</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A multi-producer, single-consumer (MPSC) queue, implemented using a
lock-free <a href="index.html#intrusive-data-structures" title="mod cordyceps">intrusive</a> singly-linked list.</p>
<p>Based on <a href="http://www.1024cores.net/home/lock-free-algorithms/queues/intrusive-mpsc-node-based-queue">Dmitry Vyukov’s intrusive MPSC</a>.</p>
<p>In order to be part of a <code>MpscQueue</code>, a type <code>T</code> must implement <a href="trait.Linked.html" title="trait cordyceps::Linked"><code>Linked</code></a> for
<a href="mpsc_queue/struct.Links.html" title="struct cordyceps::mpsc_queue::Links"><code>mpsc_queue::Links&lt;T&gt;</code></a>.</p>
<h2 id="examples"><a class="doc-anchor" href="#examples">§</a>Examples</h2>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>cordyceps::{
    Linked,
    mpsc_queue::{<span class="self">self</span>, MpscQueue},
};

<span class="comment">// This example uses the Rust standard library for convenience, but
// the MPSC queue itself does not require std.
</span><span class="kw">use </span>std::{pin::Pin, ptr::{<span class="self">self</span>, NonNull}, thread, sync::Arc};

<span class="doccomment">/// A simple queue entry that stores an `i32`.
</span><span class="attr">#[derive(Debug, Default)]
</span><span class="kw">struct </span>Entry {
   links: mpsc_queue::Links&lt;Entry&gt;,
   val: i32,
}

<span class="comment">// Implement the `Linked` trait for our entry type so that it can be used
// as a queue entry.
</span><span class="kw">unsafe impl </span>Linked&lt;mpsc_queue::Links&lt;Entry&gt;&gt; <span class="kw">for </span>Entry {
    <span class="comment">// In this example, our entries will be "owned" by a `Box`, but any
    // heap-allocated type that owns an element may be used.
    //
    // An element *must not* move while part of an intrusive data
    // structure. In many cases, `Pin` may be used to enforce this.
    </span><span class="kw">type </span>Handle = Pin&lt;Box&lt;<span class="self">Self</span>&gt;&gt;;

    <span class="doccomment">/// Convert an owned `Handle` into a raw pointer
    </span><span class="kw">fn </span>into_ptr(handle: Pin&lt;Box&lt;Entry&gt;&gt;) -&gt; NonNull&lt;Entry&gt; {
       <span class="kw">unsafe </span>{ NonNull::from(Box::leak(Pin::into_inner_unchecked(handle))) }
    }

    <span class="doccomment">/// Convert a raw pointer back into an owned `Handle`.
    </span><span class="kw">unsafe fn </span>from_ptr(ptr: NonNull&lt;Entry&gt;) -&gt; Pin&lt;Box&lt;Entry&gt;&gt; {
        <span class="comment">// Safety: if this function is only called by the linked list
        // implementation (and it is not intended for external use), we can
        // expect that the `NonNull` was constructed from a reference which
        // was pinned.
        //
        // If other callers besides `MpscQueue`'s internals were to call this on
        // some random `NonNull&lt;Entry&gt;`, this would not be the case, and
        // this could be constructing an erroneous `Pin` from a referent
        // that may not be pinned!
        </span>Pin::new_unchecked(Box::from_raw(ptr.as_ptr()))
    }

    <span class="doccomment">/// Access an element's `Links`.
    </span><span class="kw">unsafe fn </span>links(target: NonNull&lt;Entry&gt;) -&gt; NonNull&lt;mpsc_queue::Links&lt;Entry&gt;&gt; {
        <span class="comment">// Using `ptr::addr_of_mut!` permits us to avoid creating a temporary
        // reference without using layout-dependent casts.
        </span><span class="kw">let </span>links = <span class="macro">ptr::addr_of_mut!</span>((<span class="kw-2">*</span>target.as_ptr()).links);

        <span class="comment">// `NonNull::new_unchecked` is safe to use here, because the pointer that
        // we offset was not null, implying that the pointer produced by offsetting
        // it will also not be null.
        </span>NonNull::new_unchecked(links)
    }
}

<span class="kw">impl </span>Entry {
    <span class="kw">fn </span>new(val: i32) -&gt; <span class="self">Self </span>{
        <span class="self">Self </span>{
            val,
            ..<span class="self">Self</span>::default()
        }
    }
}

<span class="comment">// Once we have a `Linked` implementation for our element type, we can construct
// a queue.

// Because `Pin&lt;Box&lt;...&gt;&gt;` doesn't have a `Default` impl, we have to manually
// construct the stub node.
</span><span class="kw">let </span>stub = Box::pin(Entry::default());
<span class="kw">let </span>q = Arc::new(MpscQueue::&lt;Entry&gt;::new_with_stub(stub));

<span class="comment">// Spawn some producer threads.
</span>thread::spawn({
    <span class="kw">let </span>q = q.clone();
    <span class="kw">move </span>|| {
        <span class="comment">// Enqueuing elements does not require waiting, and is not fallible.
        </span>q.enqueue(Box::pin(Entry::new(<span class="number">1</span>)));
        q.enqueue(Box::pin(Entry::new(<span class="number">2</span>)));
    }
});

thread::spawn({
    <span class="kw">let </span>q = q.clone();
    <span class="kw">move </span>|| {
        q.enqueue(Box::pin(Entry::new(<span class="number">3</span>)));
        q.enqueue(Box::pin(Entry::new(<span class="number">4</span>)));
    }
});


<span class="comment">// Dequeue elements until the producer threads have terminated.
</span><span class="kw">let </span><span class="kw-2">mut </span>seen = Vec::new();
<span class="kw">loop </span>{
    <span class="comment">// Make sure we run at least once, in case the producer is already done.
    </span><span class="kw">let </span>done = Arc::strong_count(<span class="kw-2">&amp;</span>q) == <span class="number">1</span>;

    <span class="comment">// Dequeue until the queue is empty.
    </span><span class="kw">while let </span><span class="prelude-val">Some</span>(entry) = q.dequeue() {
        seen.push(entry.as_ref().val);
    }

    <span class="comment">// If there are still producers, we may continue dequeuing.
    </span><span class="kw">if </span>done {
        <span class="kw">break</span>;
    }

    thread::yield_now();
}

<span class="comment">// The elements may not have been received in order, so sort the
// received values before making assertions about them.
</span><span class="kw-2">&amp;mut </span>seen[..].sort();

<span class="macro">assert_eq!</span>(<span class="kw-2">&amp;</span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], <span class="kw-2">&amp;</span>seen[..]);</code></pre></div>
<p>The <a href="mpsc_queue/struct.Consumer.html" title="struct cordyceps::mpsc_queue::Consumer"><code>Consumer</code></a> type may be used to reserve the permission to consume
multiple elements at a time:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>stub = Box::pin(Entry::default());
<span class="kw">let </span>q = Arc::new(MpscQueue::&lt;Entry&gt;::new_with_stub(stub));

thread::spawn({
    <span class="kw">let </span>q = q.clone();
    <span class="kw">move </span>|| {
        q.enqueue(Box::pin(Entry::new(<span class="number">1</span>)));
        q.enqueue(Box::pin(Entry::new(<span class="number">2</span>)));
    }
});

<span class="comment">// Reserve exclusive permission to consume elements
</span><span class="kw">let </span>consumer = q.consume();

<span class="kw">let </span><span class="kw-2">mut </span>seen = Vec::new();
<span class="kw">loop </span>{
    <span class="comment">// Make sure we run at least once, in case the producer is already done.
    </span><span class="kw">let </span>done = Arc::strong_count(<span class="kw-2">&amp;</span>q) == <span class="number">1</span>;

    <span class="comment">// Dequeue until the queue is empty.
    </span><span class="kw">while let </span><span class="prelude-val">Some</span>(entry) = consumer.dequeue() {
        seen.push(entry.as_ref().val);
    }

    <span class="kw">if </span>done {
        <span class="kw">break</span>;
    }
    thread::yield_now();
}

<span class="macro">assert_eq!</span>(<span class="kw-2">&amp;</span>[<span class="number">1</span>, <span class="number">2</span>], <span class="kw-2">&amp;</span>seen[..]);</code></pre></div>
<p>The <a href="mpsc_queue/struct.Consumer.html" title="struct cordyceps::mpsc_queue::Consumer"><code>Consumer</code></a> type also implements <a href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator"><code>Iterator</code></a>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>stub = Box::pin(Entry::default());
<span class="kw">let </span>q = Arc::new(MpscQueue::&lt;Entry&gt;::new_with_stub(stub));

thread::spawn({
    <span class="kw">let </span>q = q.clone();
    <span class="kw">move </span>|| {
        <span class="kw">for </span>i <span class="kw">in </span><span class="number">1</span>..<span class="number">5 </span>{
            q.enqueue(Box::pin(Entry::new(i)));
        }
    }
});

thread::spawn({
    <span class="kw">let </span>q = q.clone();
    <span class="kw">move </span>|| {
        <span class="kw">for </span>i <span class="kw">in </span><span class="number">5</span>..=<span class="number">10 </span>{
            q.enqueue(Box::pin(Entry::new(i)));
        }
    }
});

<span class="kw">let </span><span class="kw-2">mut </span>seen = Vec::new();
<span class="kw">loop </span>{
    <span class="comment">// Make sure we run at least once, in case the producer is already done.
    </span><span class="kw">let </span>done = Arc::strong_count(<span class="kw-2">&amp;</span>q) == <span class="number">1</span>;

    <span class="comment">// Append any elements currently in the queue to the `Vec`
    </span>seen.extend(q.consume().map(|entry| entry.as_ref().val));

    <span class="kw">if </span>done {
        <span class="kw">break</span>;
    }

    thread::yield_now();
}

<span class="kw-2">&amp;mut </span>seen[..].sort();
<span class="macro">assert_eq!</span>(<span class="kw-2">&amp;</span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>], <span class="kw-2">&amp;</span>seen[..]);</code></pre></div>
<h2 id="implementation-details"><a class="doc-anchor" href="#implementation-details">§</a>Implementation Details</h2>
<p>This queue design is conceptually very simple, and has <em>extremely</em> fast and
wait-free producers (the <a href="struct.MpscQueue.html#method.enqueue" title="method cordyceps::MpscQueue::enqueue"><code>enqueue</code></a> operation). Enqueuing an element always
performs exactly one atomic swap and one atomic store, so producers need
never wait.</p>
<p>The consumer (the <a href="struct.MpscQueue.html#method.dequeue" title="method cordyceps::MpscQueue::dequeue"><code>dequeue</code></a>) is <em>typically</em> wait-free in the common case,
but must occasionally wait when the queue is in an inconsistent state.</p>
<h3 id="inconsistent-states"><a class="doc-anchor" href="#inconsistent-states">§</a>Inconsistent States</h3>
<p>As discussed in the <a href="http://www.1024cores.net/home/lock-free-algorithms/queues/intrusive-mpsc-node-based-queue">algorithm description on 1024cores.net</a>, it
is possible for this queue design to enter an inconsistent state if the
consumer tries to dequeue an element while a producer is in the middle
of enqueueing a new element. This occurs when a producer is between the
atomic swap with the <code>head</code> of the queue and the atomic store that sets the
<code>next</code> pointer of the previous <code>head</code> element. When the queue is in an
inconsistent state, the consumer must briefly wait before dequeueing an
element.</p>
<p>The consumer’s behavior in the inconsistent state depends on which API
method is used. The <a href="struct.MpscQueue.html#method.dequeue" title="method cordyceps::MpscQueue::dequeue"><code>MpscQueue::dequeue</code></a> and <a href="mpsc_queue/struct.Consumer.html#method.dequeue" title="method cordyceps::mpsc_queue::Consumer::dequeue"><code>Consumer::dequeue</code></a> methods
will wait by spinning (with an exponential backoff) when the queue is
inconsistent. Alternatively, the <a href="struct.MpscQueue.html#method.try_dequeue" title="method cordyceps::MpscQueue::try_dequeue"><code>MpscQueue::try_dequeue</code></a> and
<a href="mpsc_queue/struct.Consumer.html#method.try_dequeue" title="method cordyceps::mpsc_queue::Consumer::try_dequeue"><code>Consumer::try_dequeue</code></a> methods will instead return <a href="mpsc_queue/enum.TryDequeueError.html" title="enum cordyceps::mpsc_queue::TryDequeueError">an error</a> when the
queue is in an inconsistent state.</p>
</div></details><h2 id="implementations" class="section-header">Implementations<a href="#implementations" class="anchor">§</a></h2><div id="implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-MpscQueue%3CT%3E" class="impl"><a class="src rightside" href="../src/cordyceps/mpsc_queue.rs.html#427-817">source</a><a href="#impl-MpscQueue%3CT%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T: <a class="trait" href="trait.Linked.html" title="trait cordyceps::Linked">Linked</a>&lt;<a class="struct" href="mpsc_queue/struct.Links.html" title="struct cordyceps::mpsc_queue::Links">Links</a>&lt;T&gt;&gt;&gt; <a class="struct" href="struct.MpscQueue.html" title="struct cordyceps::MpscQueue">MpscQueue</a>&lt;T&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.new" class="method"><a class="src rightside" href="../src/cordyceps/mpsc_queue.rs.html#433-438">source</a><h4 class="code-header">pub fn <a href="#method.new" class="fn">new</a>() -&gt; Self<div class="where">where
    T::<a class="associatedtype" href="trait.Linked.html#associatedtype.Handle" title="type cordyceps::Linked::Handle">Handle</a>: <a class="trait" href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html" title="trait core::default::Default">Default</a>,</div></h4></section></summary><div class="docblock"><p>Returns a new <code>MpscQueue</code>.</p>
<p>The <a href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html" title="trait core::default::Default"><code>Default</code></a> implementation for <code>T::Handle</code> is used to produce a new
node used as the list’s stub.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.new_with_stub" class="method"><a class="src rightside" href="../src/cordyceps/mpsc_queue.rs.html#445-462">source</a><h4 class="code-header">pub fn <a href="#method.new_with_stub" class="fn">new_with_stub</a>(stub: T::<a class="associatedtype" href="trait.Linked.html#associatedtype.Handle" title="type cordyceps::Linked::Handle">Handle</a>) -&gt; Self</h4></section></summary><div class="docblock"><p>Returns a new <code>MpscQueue</code> with the provided stub node.</p>
<p>If a <code>MpscQueue</code> must be constructed in a <code>const</code> context, such as a
<code>static</code> initializer, see <a href="struct.MpscQueue.html#method.new_with_static_stub" title="associated function cordyceps::MpscQueue::new_with_static_stub"><code>MpscQueue::new_with_static_stub</code></a>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.new_with_static_stub" class="method"><a class="src rightside" href="../src/cordyceps/mpsc_queue.rs.html#545-554">source</a><h4 class="code-header">pub const unsafe fn <a href="#method.new_with_static_stub" class="fn">new_with_static_stub</a>(stub: <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.reference.html">&amp;'static T</a>) -&gt; Self</h4></section></summary><div class="docblock"><p>Returns a new <code>MpscQueue</code> with a static “stub” entity</p>
<p>This is primarily used for creating an <code>MpscQueue</code> as a <code>static</code> variable.</p>
<h5 id="usage-notes"><a class="doc-anchor" href="#usage-notes">§</a>Usage notes</h5>
<p>Unlike <a href="struct.MpscQueue.html#method.new" title="associated function cordyceps::MpscQueue::new"><code>MpscQueue::new</code></a> or <a href="struct.MpscQueue.html#method.new_with_stub" title="associated function cordyceps::MpscQueue::new_with_stub"><code>MpscQueue::new_with_stub</code></a>, the <code>stub</code>
item will NOT be dropped when the <code>MpscQueue</code> is dropped. This is fine
if you are ALSO statically creating the <code>stub</code>. However, if it is
necessary to recover that memory after the <code>MpscQueue</code> has been dropped,
that will need to be done by the user manually.</p>
<h5 id="safety"><a class="doc-anchor" href="#safety">§</a>Safety</h5>
<p>The <code>stub</code> provided must ONLY EVER be used for a single <code>MpscQueue</code>
instance. Re-using the stub for multiple queues may lead to undefined
behavior.</p>
<h6 id="example-usage"><a class="doc-anchor" href="#example-usage">§</a>Example usage</h6>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code>
<span class="comment">// This is our same `Entry` from the parent examples. It has implemented
// the `Links` trait as above.
</span><span class="attr">#[derive(Debug, Default)]
</span><span class="kw">struct </span>Entry {
   links: mpsc_queue::Links&lt;Entry&gt;,
   val: i32,
}



<span class="kw">static </span>MPSC: MpscQueue&lt;Entry&gt; = {
    <span class="kw">static </span>STUB_ENTRY: Entry = Entry {
        links: mpsc_queue::Links::&lt;Entry&gt;::new_stub(),
        val: <span class="number">0
    </span>};

    <span class="comment">// SAFETY: The stub may not be used by another MPSC queue.
    // Here, this is ensured because the `STUB_ENTRY` static is defined
    // inside of the initializer for the `MPSC` static, so it cannot be referenced
    // elsewhere.
    </span><span class="kw">unsafe </span>{ MpscQueue::new_with_static_stub(<span class="kw-2">&amp;</span>STUB_ENTRY) }
};</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.enqueue" class="method"><a class="src rightside" href="../src/cordyceps/mpsc_queue.rs.html#565-572">source</a><h4 class="code-header">pub fn <a href="#method.enqueue" class="fn">enqueue</a>(&amp;self, element: T::<a class="associatedtype" href="trait.Linked.html#associatedtype.Handle" title="type cordyceps::Linked::Handle">Handle</a>)</h4></section></summary><div class="docblock"><p>Enqueue a new element at the end of the queue.</p>
<p>This takes ownership of a <a href="trait.Linked.html#associatedtype.Handle" title="associated type cordyceps::Linked::Handle"><code>Handle</code></a> that owns the element, and
(conceptually) assigns ownership of the element to the queue while it
remains enqueued.</p>
<p>This method will never wait.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.try_dequeue" class="method"><a class="src rightside" href="../src/cordyceps/mpsc_queue.rs.html#617-634">source</a><h4 class="code-header">pub fn <a href="#method.try_dequeue" class="fn">try_dequeue</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T::<a class="associatedtype" href="trait.Linked.html#associatedtype.Handle" title="type cordyceps::Linked::Handle">Handle</a>, <a class="enum" href="mpsc_queue/enum.TryDequeueError.html" title="enum cordyceps::mpsc_queue::TryDequeueError">TryDequeueError</a>&gt;</h4></section></summary><div class="docblock"><p>Try to dequeue an element from the queue, without waiting if the queue
is in an <a href="struct.MpscQueue.html#inconsistent-states" title="struct cordyceps::MpscQueue">inconsistent state</a>, or until there is no other consumer trying
to read from the queue.</p>
<p>Because this is a multi-producer, <em>single-consumer</em> queue,
only one thread may be dequeueing at a time. If another thread is
dequeueing, this method returns <a href="mpsc_queue/enum.TryDequeueError.html#variant.Busy" title="variant cordyceps::mpsc_queue::TryDequeueError::Busy"><code>TryDequeueError::Busy</code></a>.</p>
<p>The <a href="struct.MpscQueue.html#method.dequeue" title="method cordyceps::MpscQueue::dequeue"><code>MpscQueue::dequeue</code></a> method will instead wait (by spinning with an
exponential backoff) when the queue is in an inconsistent state or busy.</p>
<p>The unsafe <a href="struct.MpscQueue.html#method.try_dequeue_unchecked" title="method cordyceps::MpscQueue::try_dequeue_unchecked"><code>MpscQueue::try_dequeue_unchecked</code></a> method will not check if the
queue is busy before dequeueing an element. This can be used when the
user code guarantees that no other threads will dequeue from the queue
concurrently, but this cannot be enforced by the compiler.</p>
<p>This method will never wait.</p>
<h5 id="returns"><a class="doc-anchor" href="#returns">§</a>Returns</h5>
<ul>
<li><code>Ok</code>(<a href="trait.Linked.html#associatedtype.Handle" title="associated type cordyceps::Linked::Handle"><code>T::Handle</code></a><code>)</code> if an element was successfully dequeued</li>
<li><code>Err(</code><a href="mpsc_queue/enum.TryDequeueError.html#variant.Empty" title="variant cordyceps::mpsc_queue::TryDequeueError::Empty"><code>TryDequeueError::Empty</code></a><code>)</code> if there are no elements in the queue</li>
<li><code>Err(</code><a href="mpsc_queue/enum.TryDequeueError.html#variant.Inconsistent" title="variant cordyceps::mpsc_queue::TryDequeueError::Inconsistent"><code>TryDequeueError::Inconsistent</code></a><code>)</code> if the queue is currently in an
inconsistent state</li>
<li><code>Err(</code><a href="mpsc_queue/enum.TryDequeueError.html#variant.Busy" title="variant cordyceps::mpsc_queue::TryDequeueError::Busy"><code>TryDequeueError::Busy</code></a><code>)</code> if another thread is currently trying to
dequeue a message.</li>
</ul>
</div></details><details class="toggle method-toggle" open><summary><section id="method.dequeue" class="method"><a class="src rightside" href="../src/cordyceps/mpsc_queue.rs.html#660-669">source</a><h4 class="code-header">pub fn <a href="#method.dequeue" class="fn">dequeue</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;T::<a class="associatedtype" href="trait.Linked.html#associatedtype.Handle" title="type cordyceps::Linked::Handle">Handle</a>&gt;</h4></section></summary><div class="docblock"><p>Dequeue an element from the queue.</p>
<p>This method will wait by spinning with an exponential backoff if the
queue is in an <a href="struct.MpscQueue.html#inconsistent-states" title="struct cordyceps::MpscQueue">inconsistent state</a>.</p>
<p>Additionally, because this is a multi-producer, <em>single-consumer</em> queue,
only one thread may be dequeueing at a time. If another thread is
dequeueing, this method will spin until the queue is no longer busy.</p>
<p>The <a href="struct.MpscQueue.html#method.try_dequeue" title="method cordyceps::MpscQueue::try_dequeue"><code>MpscQueue::try_dequeue</code></a> will return an error rather than waiting when
the queue is in an inconsistent state or busy.</p>
<p>The unsafe <a href="struct.MpscQueue.html#method.dequeue_unchecked" title="method cordyceps::MpscQueue::dequeue_unchecked"><code>MpscQueue::dequeue_unchecked</code></a> method will not check if the
queue is busy before dequeueing an element. This can be used when the
user code guarantees that no other threads will dequeue from the queue
concurrently, but this cannot be enforced by the compiler.</p>
<h5 id="returns-1"><a class="doc-anchor" href="#returns-1">§</a>Returns</h5>
<ul>
<li><code>Some(</code><a href="trait.Linked.html#associatedtype.Handle" title="associated type cordyceps::Linked::Handle"><code>T::Handle</code></a><code>)</code> if an element was successfully dequeued</li>
<li><code>None</code> if the queue is empty or another thread is dequeueing</li>
</ul>
</div></details><details class="toggle method-toggle" open><summary><section id="method.consume" class="method"><a class="src rightside" href="../src/cordyceps/mpsc_queue.rs.html#676-679">source</a><h4 class="code-header">pub fn <a href="#method.consume" class="fn">consume</a>(&amp;self) -&gt; <a class="struct" href="mpsc_queue/struct.Consumer.html" title="struct cordyceps::mpsc_queue::Consumer">Consumer</a>&lt;'_, T&gt; <a href="#" class="tooltip" data-notable-ty="Consumer&lt;&#39;_, T&gt;">ⓘ</a></h4></section></summary><div class="docblock"><p>Returns a <a href="mpsc_queue/struct.Consumer.html" title="struct cordyceps::mpsc_queue::Consumer"><code>Consumer</code></a> handle that reserves the exclusive right to dequeue
elements from the queue until it is dropped.</p>
<p>If another thread is dequeueing, this method spins until there is no
other thread dequeueing.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.try_consume" class="method"><a class="src rightside" href="../src/cordyceps/mpsc_queue.rs.html#685-688">source</a><h4 class="code-header">pub fn <a href="#method.try_consume" class="fn">try_consume</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="mpsc_queue/struct.Consumer.html" title="struct cordyceps::mpsc_queue::Consumer">Consumer</a>&lt;'_, T&gt;&gt;</h4></section></summary><div class="docblock"><p>Attempts to reserve a <a href="mpsc_queue/struct.Consumer.html" title="struct cordyceps::mpsc_queue::Consumer"><code>Consumer</code></a> handle that holds the exclusive right
to dequeue  elements from the queue until it is dropped.</p>
<p>If another thread is dequeueing, this returns <code>None</code> instead.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.try_dequeue_unchecked" class="method"><a class="src rightside" href="../src/cordyceps/mpsc_queue.rs.html#719-759">source</a><h4 class="code-header">pub unsafe fn <a href="#method.try_dequeue_unchecked" class="fn">try_dequeue_unchecked</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T::<a class="associatedtype" href="trait.Linked.html#associatedtype.Handle" title="type cordyceps::Linked::Handle">Handle</a>, <a class="enum" href="mpsc_queue/enum.TryDequeueError.html" title="enum cordyceps::mpsc_queue::TryDequeueError">TryDequeueError</a>&gt;</h4></section></summary><div class="docblock"><p>Try to dequeue an element from the queue, without waiting if the queue
is in an inconsistent state, and without checking if another consumer
exists.</p>
<p>This method returns <a href="mpsc_queue/enum.TryDequeueError.html#variant.Inconsistent" title="variant cordyceps::mpsc_queue::TryDequeueError::Inconsistent"><code>TryDequeueError::Inconsistent</code></a> when the queue is
in an <a href="struct.MpscQueue.html#inconsistent-states" title="struct cordyceps::MpscQueue">inconsistent state</a>.</p>
<p>The <a href="struct.MpscQueue.html#method.dequeue_unchecked" title="method cordyceps::MpscQueue::dequeue_unchecked"><code>MpscQueue::dequeue_unchecked</code></a> method will instead wait (by
spinning with an  exponential backoff) when the queue is in an
inconsistent state.</p>
<p>This method will never wait.</p>
<h5 id="returns-2"><a class="doc-anchor" href="#returns-2">§</a>Returns</h5>
<ul>
<li><code>Ok</code>(<a href="trait.Linked.html#associatedtype.Handle" title="associated type cordyceps::Linked::Handle"><code>T::Handle</code></a><code>)</code> if an element was successfully dequeued</li>
<li><code>Err(</code><a href="mpsc_queue/enum.TryDequeueError.html#variant.Empty" title="variant cordyceps::mpsc_queue::TryDequeueError::Empty"><code>TryDequeueError::Empty</code></a><code>)</code> if there are no elements in the queue</li>
<li><code>Err(</code><a href="mpsc_queue/enum.TryDequeueError.html#variant.Inconsistent" title="variant cordyceps::mpsc_queue::TryDequeueError::Inconsistent"><code>TryDequeueError::Inconsistent</code></a><code>)</code> if the queue is currently in an
inconsistent state</li>
</ul>
<p>This method will <strong>never</strong> return <a href="mpsc_queue/enum.TryDequeueError.html#variant.Busy" title="variant cordyceps::mpsc_queue::TryDequeueError::Busy"><code>TryDequeueError::Busy</code></a>.</p>
<h5 id="safety-1"><a class="doc-anchor" href="#safety-1">§</a>Safety</h5>
<p>This is a multi-producer, <em>single-consumer</em> queue. Only one thread/core
may call <code>try_dequeue_unchecked</code> at a time!</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.dequeue_unchecked" class="method"><a class="src rightside" href="../src/cordyceps/mpsc_queue.rs.html#782-794">source</a><h4 class="code-header">pub unsafe fn <a href="#method.dequeue_unchecked" class="fn">dequeue_unchecked</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;T::<a class="associatedtype" href="trait.Linked.html#associatedtype.Handle" title="type cordyceps::Linked::Handle">Handle</a>&gt;</h4></section></summary><div class="docblock"><p>Dequeue an element from the queue, without checking whether another
consumer exists.</p>
<p>This method will wait by spinning with an exponential backoff if the
queue is in an <a href="struct.MpscQueue.html#inconsistent-states" title="struct cordyceps::MpscQueue">inconsistent state</a>.</p>
<p>The <a href="struct.MpscQueue.html#method.try_dequeue" title="method cordyceps::MpscQueue::try_dequeue"><code>MpscQueue::try_dequeue</code></a> will return an error rather than waiting
when the queue is in an inconsistent state.</p>
<h5 id="returns-3"><a class="doc-anchor" href="#returns-3">§</a>Returns</h5>
<ul>
<li><code>Some(</code><a href="trait.Linked.html#associatedtype.Handle" title="associated type cordyceps::Linked::Handle"><code>T::Handle</code></a><code>)</code> if an element was successfully dequeued</li>
<li><code>None</code> if the queue is empty</li>
</ul>
<h5 id="safety-2"><a class="doc-anchor" href="#safety-2">§</a>Safety</h5>
<p>This is a multi-producer, <em>single-consumer</em> queue. Only one thread/core
may call <code>dequeue</code> at a time!</p>
</div></details></div></details></div><h2 id="trait-implementations" class="section-header">Trait Implementations<a href="#trait-implementations" class="anchor">§</a></h2><div id="trait-implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-Debug-for-MpscQueue%3CT%3E" class="impl"><a class="src rightside" href="../src/cordyceps/mpsc_queue.rs.html#859-884">source</a><a href="#impl-Debug-for-MpscQueue%3CT%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> for <a class="struct" href="struct.MpscQueue.html" title="struct cordyceps::MpscQueue">MpscQueue</a>&lt;T&gt;<div class="where">where
    T: <a class="trait" href="trait.Linked.html" title="trait cordyceps::Linked">Linked</a>&lt;<a class="struct" href="mpsc_queue/struct.Links.html" title="struct cordyceps::mpsc_queue::Links">Links</a>&lt;T&gt;&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.fmt" class="method trait-impl"><a class="src rightside" href="../src/cordyceps/mpsc_queue.rs.html#863-883">source</a><a href="#method.fmt" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt" class="fn">fmt</a>(&amp;self, f: &amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/core/fmt/struct.Formatter.html" title="struct core::fmt::Formatter">Formatter</a>&lt;'_&gt;) -&gt; <a class="type" href="https://doc.rust-lang.org/nightly/core/fmt/type.Result.html" title="type core::fmt::Result">Result</a></h4></section></summary><div class='docblock'>Formats the value using the given formatter. <a href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt">Read more</a></div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-Default-for-MpscQueue%3CT%3E" class="impl"><a class="src rightside" href="../src/cordyceps/mpsc_queue.rs.html#886-894">source</a><a href="#impl-Default-for-MpscQueue%3CT%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html" title="trait core::default::Default">Default</a> for <a class="struct" href="struct.MpscQueue.html" title="struct cordyceps::MpscQueue">MpscQueue</a>&lt;T&gt;<div class="where">where
    T: <a class="trait" href="trait.Linked.html" title="trait cordyceps::Linked">Linked</a>&lt;<a class="struct" href="mpsc_queue/struct.Links.html" title="struct cordyceps::mpsc_queue::Links">Links</a>&lt;T&gt;&gt;,
    T::<a class="associatedtype" href="trait.Linked.html#associatedtype.Handle" title="type cordyceps::Linked::Handle">Handle</a>: <a class="trait" href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html" title="trait core::default::Default">Default</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.default" class="method trait-impl"><a class="src rightside" href="../src/cordyceps/mpsc_queue.rs.html#891-893">source</a><a href="#method.default" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html#tymethod.default" class="fn">default</a>() -&gt; Self</h4></section></summary><div class='docblock'>Returns the “default value” for a type. <a href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html#tymethod.default">Read more</a></div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-Drop-for-MpscQueue%3CT%3E" class="impl"><a class="src rightside" href="../src/cordyceps/mpsc_queue.rs.html#819-857">source</a><a href="#impl-Drop-for-MpscQueue%3CT%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T: <a class="trait" href="trait.Linked.html" title="trait cordyceps::Linked">Linked</a>&lt;<a class="struct" href="mpsc_queue/struct.Links.html" title="struct cordyceps::mpsc_queue::Links">Links</a>&lt;T&gt;&gt;&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/drop/trait.Drop.html" title="trait core::ops::drop::Drop">Drop</a> for <a class="struct" href="struct.MpscQueue.html" title="struct cordyceps::MpscQueue">MpscQueue</a>&lt;T&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.drop" class="method trait-impl"><a class="src rightside" href="../src/cordyceps/mpsc_queue.rs.html#820-856">source</a><a href="#method.drop" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/ops/drop/trait.Drop.html#tymethod.drop" class="fn">drop</a>(&amp;mut self)</h4></section></summary><div class='docblock'>Executes the destructor for this type. <a href="https://doc.rust-lang.org/nightly/core/ops/drop/trait.Drop.html#tymethod.drop">Read more</a></div></details></div></details><section id="impl-Send-for-MpscQueue%3CT%3E" class="impl"><a class="src rightside" href="../src/cordyceps/mpsc_queue.rs.html#896-901">source</a><a href="#impl-Send-for-MpscQueue%3CT%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="struct.MpscQueue.html" title="struct cordyceps::MpscQueue">MpscQueue</a>&lt;T&gt;<div class="where">where
    T: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="trait.Linked.html" title="trait cordyceps::Linked">Linked</a>&lt;<a class="struct" href="mpsc_queue/struct.Links.html" title="struct cordyceps::mpsc_queue::Links">Links</a>&lt;T&gt;&gt;,
    T::<a class="associatedtype" href="trait.Linked.html#associatedtype.Handle" title="type cordyceps::Linked::Handle">Handle</a>: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>,</div></h3></section><section id="impl-Sync-for-MpscQueue%3CT%3E" class="impl"><a class="src rightside" href="../src/cordyceps/mpsc_queue.rs.html#902">source</a><a href="#impl-Sync-for-MpscQueue%3CT%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="trait.Linked.html" title="trait cordyceps::Linked">Linked</a>&lt;<a class="struct" href="mpsc_queue/struct.Links.html" title="struct cordyceps::mpsc_queue::Links">Links</a>&lt;T&gt;&gt;&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="struct.MpscQueue.html" title="struct cordyceps::MpscQueue">MpscQueue</a>&lt;T&gt;</h3></section></div><h2 id="synthetic-implementations" class="section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor">§</a></h2><div id="synthetic-implementations-list"><section id="impl-Freeze-for-MpscQueue%3CT%3E" class="impl"><a href="#impl-Freeze-for-MpscQueue%3CT%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; !<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Freeze.html" title="trait core::marker::Freeze">Freeze</a> for <a class="struct" href="struct.MpscQueue.html" title="struct cordyceps::MpscQueue">MpscQueue</a>&lt;T&gt;</h3></section><section id="impl-RefUnwindSafe-for-MpscQueue%3CT%3E" class="impl"><a href="#impl-RefUnwindSafe-for-MpscQueue%3CT%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; !<a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="struct.MpscQueue.html" title="struct cordyceps::MpscQueue">MpscQueue</a>&lt;T&gt;</h3></section><section id="impl-Unpin-for-MpscQueue%3CT%3E" class="impl"><a href="#impl-Unpin-for-MpscQueue%3CT%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="struct.MpscQueue.html" title="struct cordyceps::MpscQueue">MpscQueue</a>&lt;T&gt;</h3></section><section id="impl-UnwindSafe-for-MpscQueue%3CT%3E" class="impl"><a href="#impl-UnwindSafe-for-MpscQueue%3CT%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a> for <a class="struct" href="struct.MpscQueue.html" title="struct cordyceps::MpscQueue">MpscQueue</a>&lt;T&gt;<div class="where">where
    T: <a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a>,</div></h3></section></div><h2 id="blanket-implementations" class="section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor">§</a></h2><div id="blanket-implementations-list"><details class="toggle implementors-toggle"><summary><section id="impl-Any-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/any.rs.html#138">source</a><a href="#impl-Any-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T<div class="where">where
    T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.type_id" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/any.rs.html#139">source</a><a href="#method.type_id" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id" class="fn">type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></h4></section></summary><div class='docblock'>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Borrow%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#209">source</a><a href="#impl-Borrow%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T<div class="where">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#211">source</a><a href="#method.borrow" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow" class="fn">borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.reference.html">&amp;T</a></h4></section></summary><div class='docblock'>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-BorrowMut%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#217">source</a><a href="#impl-BorrowMut%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T<div class="where">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow_mut" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#218">source</a><a href="#method.borrow_mut" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fn">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.reference.html">&amp;mut T</a></h4></section></summary><div class='docblock'>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-From%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#765">source</a><a href="#impl-From%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.from" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#768">source</a><a href="#method.from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html#tymethod.from" class="fn">from</a>(t: T) -&gt; T</h4></section></summary><div class="docblock"><p>Returns the argument unchanged.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Into%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#748-750">source</a><a href="#impl-Into%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.into" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#758">source</a><a href="#method.into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html#tymethod.into" class="fn">into</a>(self) -&gt; U</h4></section></summary><div class="docblock"><p>Calls <code>U::from(self)</code>.</p>
<p>That is, this conversion is whatever the implementation of
<code><a href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for U</code> chooses to do.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryFrom%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#805-807">source</a><a href="#impl-TryFrom%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error-1" class="associatedtype trait-impl"><a href="#associatedtype.Error-1" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" class="associatedtype">Error</a> = <a class="enum" href="https://doc.rust-lang.org/nightly/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_from" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#812">source</a><a href="#method.try_from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#tymethod.try_from" class="fn">try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryInto%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#790-792">source</a><a href="#impl-TryInto%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error" class="associatedtype trait-impl"><a href="#associatedtype.Error" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#associatedtype.Error" class="associatedtype">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_into" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#797">source</a><a href="#method.try_into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#tymethod.try_into" class="fn">try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details></div><script type="text/json" id="notable-traits-data">{"Consumer<'_, T>":"<h3>Notable traits for <code><a class=\"struct\" href=\"mpsc_queue/struct.Consumer.html\" title=\"struct cordyceps::mpsc_queue::Consumer\">Consumer</a>&lt;'_, T&gt;</code></h3><pre><code><div class=\"where\">impl&lt;T&gt; <a class=\"trait\" href=\"https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html\" title=\"trait core::iter::traits::iterator::Iterator\">Iterator</a> for <a class=\"struct\" href=\"mpsc_queue/struct.Consumer.html\" title=\"struct cordyceps::mpsc_queue::Consumer\">Consumer</a>&lt;'_, T&gt;<div class=\"where\">where\n    T: <a class=\"trait\" href=\"https://doc.rust-lang.org/nightly/core/marker/trait.Send.html\" title=\"trait core::marker::Send\">Send</a> + <a class=\"trait\" href=\"trait.Linked.html\" title=\"trait cordyceps::Linked\">Linked</a>&lt;<a class=\"struct\" href=\"mpsc_queue/struct.Links.html\" title=\"struct cordyceps::mpsc_queue::Links\">Links</a>&lt;T&gt;&gt;,</div></div><div class=\"where\">    type <a href=\"https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html#associatedtype.Item\" class=\"associatedtype\">Item</a> = T::<a class=\"associatedtype\" href=\"trait.Linked.html#associatedtype.Handle\" title=\"type cordyceps::Linked::Handle\">Handle</a>;</div>"}</script></section></div></main></body></html>